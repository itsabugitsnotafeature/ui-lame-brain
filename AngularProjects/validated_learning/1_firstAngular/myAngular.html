<!DOCTYPE html>
<html data-ng-app="demoApp">
	<head>
		<title>Using Angular Directive and Data Binding</title>
	</head>

    <body>
        <div>
             <!--Placeholder for views-->
            <div data-ng-view=''></div>
        </div>

	<script src="Scripts/angular.min.js"> </script>
        <script src="Scripts/angular.js"> </script>
            <script src="Scripts/angular-route.js"> </script>



    <script>
        var demoApp = angular.module('demoApp', []);

        angular.module('demoApp', ['ngRoute']);

        demoApp.config(function($routeProvider) {
            $routeProvider
                    .when ('/view1',
                    {
                        controller: 'SimpleController',
                        templateURL:'Partials/View1.html'
                    })
                    .when ('/view2' ,
                    {
                        controller: 'SimpleController',
                        templateURL:'Partials/View2.html'
                    })
                    .otherwise ({ redirectTo: '/view1' });
                });


        demoApp.factory('simpleFactory', function ($scope) {
            var customers = [
                {name:'Jzhn Smith',city:'San Mateo'},
                {name:'Jew Dizzle',city:'Devils Kettle'},
                {name:'Jardan Sam',city:'New Delhi'},
                {name:'Pakau Awasthi',city:'Vikas Marg'}
            ];

            var factory = {};
            factory.getCustomers = function() {
                return customers;
            };

            return factory;

        });


        // Method 2: Pass the name as a string with an anonymous function
        demoApp.controller('SimpleController', function ($scope) {
            $scope.customers = [ ];

            init();

            function init() {
                $scope.customers = simpleFactory.getCustomers();
            }

            $scope.addCustomer = function () {
                $scope.customers.push(
                        {
                          name:$scope.newCustomer.name,
                          city:$scope.newCustomer.city
                        });
            };
        });
    </script>


	</body>
</html>